(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{73:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return b})),t.d(a,"metadata",(function(){return i})),t.d(a,"toc",(function(){return d})),t.d(a,"default",(function(){return s}));var r=t(3),o=t(7),n=(t(0),t(87)),l=["components"],b={id:"variables",title:"Dashboard variables"},i={unversionedId:"variables",id:"variables",isDocsHomePage:!1,title:"Dashboard variables",description:"Grafana lets you share configuration across multiple panels in a dashboard, using dashboard variables. A dashboard variable can be used to dynamically update every panel in your dashboard.",source:"@site/docs/variables.md",slug:"/variables",permalink:"/grafana-ynab-datasource/variables",editUrl:"https://github.com/marcusolsson/grafana-ynab-datasource/edit/main/website/docs/variables.md",version:"current",sidebar:"someSidebar",previous:{title:"Query editor",permalink:"/grafana-ynab-datasource/query-editor"}},d=[{value:"Step 1: Create a dashboard variable",id:"step-1-create-a-dashboard-variable",children:[]},{value:"Step 2: Configure a panel to use a dashboard variable",id:"step-2-configure-a-panel-to-use-a-dashboard-variable",children:[]},{value:"Step 3: Add a dashboard variable for accounts",id:"step-3-add-a-dashboard-variable-for-accounts",children:[]},{value:"Step 4: Add a dashboard variable for periods",id:"step-4-add-a-dashboard-variable-for-periods",children:[]}],c={toc:d};function s(e){var a=e.components,t=Object(o.a)(e,l);return Object(n.b)("wrapper",Object(r.a)({},c,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,"Grafana lets you share configuration across multiple panels in a dashboard, using ",Object(n.b)("em",{parentName:"p"},"dashboard variables"),". A dashboard variable can be used to dynamically update every panel in your dashboard."),Object(n.b)("h2",{id:"step-1-create-a-dashboard-variable"},"Step 1: Create a dashboard variable"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"Click ",Object(n.b)("strong",{parentName:"li"},"Dashboard settings")," (cog icon) at the top-right corner of your dashboard."),Object(n.b)("li",{parentName:"ol"},"In the ",Object(n.b)("strong",{parentName:"li"},"Variables")," tab, click ",Object(n.b)("strong",{parentName:"li"},"New")," to create a new variable."),Object(n.b)("li",{parentName:"ol"},"In ",Object(n.b)("strong",{parentName:"li"},"Name"),', enter "budget".'),Object(n.b)("li",{parentName:"ol"},"In ",Object(n.b)("strong",{parentName:"li"},"Type"),", select ",Object(n.b)("strong",{parentName:"li"},"Query"),"."),Object(n.b)("li",{parentName:"ol"},"In ",Object(n.b)("strong",{parentName:"li"},"Data source"),", select the YNAB data source."),Object(n.b)("li",{parentName:"ol"},"In ",Object(n.b)("strong",{parentName:"li"},"Query"),', enter "budgets()", and click outside the text box to update to preview at the bottom.'),Object(n.b)("li",{parentName:"ol"},"Click ",Object(n.b)("strong",{parentName:"li"},"Update")," to save the variable."),Object(n.b)("li",{parentName:"ol"},"Click the arrow in the top-left corner to go back to the dashboard.")),Object(n.b)("p",null,"In the top-left corner of the dashboard, you can now see a dropdown that contains all your budgets. You can select a budget from the dropdown to update the currently selected budget. However, you might notice that nothing changes in your panels. This is because the panels aren't using the variable yet."),Object(n.b)("h2",{id:"step-2-configure-a-panel-to-use-a-dashboard-variable"},"Step 2: Configure a panel to use a dashboard variable"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"Open the panel editor by clicking the panel title, and then selecting ",Object(n.b)("strong",{parentName:"li"},"Edit"),"."),Object(n.b)("li",{parentName:"ol"},"In the query editor for the YNAB data source, click ",Object(n.b)("strong",{parentName:"li"},"Budget"),' and select "$budget".'),Object(n.b)("li",{parentName:"ol"},"Click ",Object(n.b)("strong",{parentName:"li"},"Apply")," in the top-right corner of the page.")),Object(n.b)("p",null,"Now, when you change the value of the dashboard variable, that change is reflected in the panel as well. If you use the variable in all of your panels, you can quickly update your entire dashboard to show the data for that budget."),Object(n.b)("h2",{id:"step-3-add-a-dashboard-variable-for-accounts"},"Step 3: Add a dashboard variable for accounts"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},'Add another dashboard variable called "account".'),Object(n.b)("li",{parentName:"ol"},"In ",Object(n.b)("strong",{parentName:"li"},"Query"),', enter "accounts($budget)". "$budget" means that the variable will list all the accounts for the currently selected budget.'),Object(n.b)("li",{parentName:"ol"},"Enable ",Object(n.b)("strong",{parentName:"li"},"Multi-value")," to be able to select multiple accounts."),Object(n.b)("li",{parentName:"ol"},"Save the variable, and then open the panel editor."),Object(n.b)("li",{parentName:"ol"},"In the query editor for the YNAB data source, click ",Object(n.b)("strong",{parentName:"li"},"Account"),' and select "$account".')),Object(n.b)("h2",{id:"step-4-add-a-dashboard-variable-for-periods"},"Step 4: Add a dashboard variable for periods"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},'Add another dashboard variable called "period".'),Object(n.b)("li",{parentName:"ol"},"In ",Object(n.b)("strong",{parentName:"li"},"Query"),', enter "periods()".'),Object(n.b)("li",{parentName:"ol"},"Save the variable, and then open the panel editor."),Object(n.b)("li",{parentName:"ol"},"In the query editor for the YNAB data source, click ",Object(n.b)("strong",{parentName:"li"},"Period"),' and select "$period".')),Object(n.b)("p",null,"You can now change the period for all panels at the same time."))}s.isMDXComponent=!0}}]);